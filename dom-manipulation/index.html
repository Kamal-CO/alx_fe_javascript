<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Quote Generator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Dynamic Quote Generator</h1>
            <p class="subtitle">Find inspiration with curated quotes and add your own</p>
        </header>
        
        <div class="main-content">
            <!-- Sync Status Indicator -->
            <div class="sync-status" id="syncStatus">
                <span class="sync-indicator" id="syncIndicator"></span>
                <span id="syncMessage">Syncing with server...</span>
                <button id="manualSync" class="sync-btn">Sync Now</button>
            </div>

            <section class="quote-section">
                <div class="quote-display" id="quoteDisplay">
                    <p class="quote-text">Click the button to generate a random quote!</p>
                    <span class="quote-category">Inspiration</span>
                </div>
                
                <div class="controls">
                    <button id="newQuote">Show New Quote</button>
                    <button id="showForm">Add New Quote</button>
                    <button id="exportQuotes">Export Quotes</button>
                </div>
            </section>
            
            <!-- Form will be dynamically created here -->
            <div id="formContainer"></div>
            
            <section class="filter-section">
                <h2>Filter Quotes by Category</h2>
                <div class="filter-controls">
                    <select id="categoryFilter">
                        <option value="all">All Categories</option>
                        <!-- Categories will be populated dynamically -->
                    </select>
                    <button id="clearFilter">Clear Filter</button>
                </div>
                <div class="active-filter" id="activeFilter" style="display: none;">
                    <span>Currently viewing: <strong id="currentFilter">All Categories</strong></span>
                </div>
            </section>
            
            <section class="quotes-list-section" id="quotesListSection" style="display: none;">
                <h2>All Quotes (<span id="quotesCount">0</span>)</h2>
                <div class="quotes-container" id="quotesContainer">
                    <!-- Quotes will be displayed here when filtered -->
                </div>
            </section>

            <!-- Import/Export Section -->
            <section class="import-export-section">
                <h2>Data Management</h2>
                <div class="data-controls">
                    <div class="import-export-group">
                        <label for="importFile">Import Quotes from JSON file:</label>
                        <input type="file" id="importFile" accept=".json" class="file-input">
                        <button id="importQuotes" class="import-btn">Import Quotes</button>
                    </div>
                    <div class="import-export-group">
                        <label>Export Quotes to JSON file:</label>
                        <button id="exportAllQuotes" class="export-btn">Export All Quotes</button>
                        <button id="exportFilteredQuotes" class="export-btn">Export Filtered Quotes</button>
                    </div>
                </div>
                <div class="export-options">
                    <h3>Export Options:</h3>
                    <label>
                        <input type="checkbox" id="includeMetadata" checked>
                        Include metadata (IDs, versions, timestamps)
                    </label>
                    <label>
                        <input type="checkbox" id="prettyPrint" checked>
                        Format JSON for readability
                    </label>
                </div>
            </section>

            <!-- Conflict Resolution Modal -->
            <div class="modal" id="conflictModal" style="display: none;">
                <div class="modal-content">
                    <h2>Data Sync Conflict</h2>
                    <p id="conflictMessage">We found conflicting changes between your local data and the server.</p>
                    <div class="conflict-options">
                        <h3>Choose how to resolve:</h3>
                        <label>
                            <input type="radio" name="resolution" value="server" checked>
                            Use server data (lose local changes)
                        </label>
                        <label>
                            <input type="radio" name="resolution" value="local">
                            Keep local data (ignore server changes)
                        </label>
                        <label>
                            <input type="radio" name="resolution" value="merge">
                            Merge data (keep both)
                        </label>
                    </div>
                    <div class="modal-actions">
                        <button id="resolveConflict" class="resolve-btn">Resolve Conflict</button>
                        <button id="cancelResolution" class="cancel-btn">Cancel</button>
                    </div>
                </div>
            </div>
            
            <div class="stats">
                <div>Total Quotes: <span id="totalQuotes">0</span></div>
                <div>Categories: <span id="totalCategories">0</span></div>
                <div>Current Filter: <span id="currentFilterStat">All</span></div>
                <div>Last Sync: <span id="lastSyncTime">Never</span></div>
            </div>
        </div>
        
        <footer>
            <p>Dynamic Quote Generator &copy; 2023 | Advanced DOM Manipulation Project</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>